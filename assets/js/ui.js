$(document).ready(function(){function e(){var e=[],a={year:!1,"class":!1,selected:!1};$("form#publication-filters :checkbox").each(function(){var t=$(this);t.is(":checked")&&(e.push({key:t.data("key"),value:t.data("value")}),a[t.data("key")]=!0)}),$(".publication").show(),$(".publication").filter(function(){var t=$(this),n={year:!a.year,"class":!a["class"],selected:!a.selected};return e.forEach(function(e){e.value||(e.value=!0),n[e.key]=n[e.key]||t.data(e.key)==e.value}),!(n.year&&n["class"]&&n.selected)}).hide()}function a(e){var e=d3.max([0,d3.min([e,i-1])]);c.attr("class",0==e?"disabled":""),s.attr("class",e==i-1?"disabled":""),$("ul#event-pagination li").removeClass("active"),$("ul#event-pagination li:eq( "+(e+1)+" )").addClass("active"),page_number=e;var a=t*page_number,n=t*(page_number+1);$("dd.event").each(function(e){e>=a&&n>e?$(this).show():$(this).hide()}),$("dt.event").each(function(e){e>=a&&n>e?$(this).show():$(this).hide()})}$("form#publication-filters :checkbox").click(e),e();var t=5,n=$("dt.event").size(),i=Math.ceil(1*n/t);page_number=1;var l=d3.select("ul#event-pagination"),c=l.append("li").attr("class","disabled").html('<a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>').on("click",function(){d3.event.preventDefault(),a(page_number-1)}),r=l.selectAll(".page").data(d3.range(i)).enter().append("li").attr("class",function(e){return 0==e?"active":""}).on("click",a);r.append("a").text(function(e){return e+1});var s=l.append("li").html('<a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>').on("click",function(){d3.event.preventDefault(),a(page_number+1)});a(0)});